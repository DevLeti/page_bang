<!DOCTYPE html>
<html lang="cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Register</title>
    <?php
      include("./apis/getting_name.php");
    ?>
    <script>


      function namecheck()
      {
        var name_input = document.getElementById('input_id').value
        var name_result = false;
        for (var i = 0; i<name_array.length; i++)
        {
          if(name_array[i] == name_input)
          {
            alert('重复！ 输入别的用户名！');
            document.getElementById('input_id').value = "";
            name_result = false;
            break;
          }
          else
          {
              if (name_input.length < 5)
              {
                alert('用户名太短了！');
                name_result = false;
                return 0;
              }

            alert('用户名OK！');
            name_result = true;
            return 0;
          }
        }
      }
      function pwcheck()
      {
        var pw1 = document.getElementById("input_pw").value
        var pw2 = document.getElementById("input_pw_check").value
        if(pw1 == pw2)
        {
          document.getElementById("check_result").innerHTML = "相同"
        }
        else
        {
          document.getElementById("check_result").innerHTML = "错误"
        }
      }

      /*
      function check_space()
      {
        var id_input = document.getElementById("input_id").value
        if (id_input == "")
        {
          document.getElementById("id_space_result").innerHTML = "必须要填用户名！"
        }
        else if (id_input.length < 5)
        {
          document.getElementById("id_space_result").innerHTML = "用户名太短了！"
        }
        else
        {
          document.getElementById("id_space_result").innerHTML = "用户名OK！"
        }
      }

      */
        function check_pw_length()
        {
          var pw_input = document.getElementById("input_pw").value
          if (pw_input == "")
          {
            document.getElementById("pw_check_result").innerHTML = "必须要设定密码！"
          }
          else if (pw_input.length < 5)
          {
            document.getElementById("pw_check_result").innerHTML = "密码太短了！"
          }
          else
          {
            document.getElementById("pw_check_result").innerHTML = "密码OK！"
          }
        }
    </script>
  </head>
  <body>
    <div style = "min-height : 46px; max-height:42px; margin: 0 auto;"></div>
    <div style = "border-radius : 8px; width:70%; height: 55%; min-height: 370px; max-height:520px; min-width: 310px; max-width: 460px; position : relative; background-color:#AADC31; text-align:right;  margin : 0 auto;">
      <br>
      <br>
      <p style="text-align : center; font-size : 150%; float : bold;">GoGGLE注册</p>
      <br>

      <form method="POST" action="apis/add_user.php">
      <p id ="id_space_result", style ="text-align : center"></p>
      <table style ="margin-left: auto; margin-right: auto;">
        <tr>
          <td><span style="font-size : 120%;">用户名 : </span></td>
          <td><input type="string" id = "input_id" name = "register_id" style="width : 150px;" onblur = "namecheck()"></td>
          <!--<td><button name = "check_id" onclick = "">重复确认</button></td>-->
        </tr>
        <tr>
          <td><span style="font-size : 120%;">密码 : </span></td>
          <td><input type="password" id = "input_pw" name = "register_pw" style="width : 150px;" onblur = "check_pw_length()"></td>
          <td><span style="font-size : 120%;" id = "pw_check_result"></span></td>
        </tr>
        <tr>
          <td><span style="font-size : 120%;">确认密码 : </span></td>
          <td><input type="password" id = "input_pw_check" style="width : 150px;" onblur = "pwcheck()"></td>
          <td><span id = "check_result" style = "font-size : 120%"></span></td>
        </tr>
        <tr>
          <td><span style="font-size : 120%;"  >邮箱 : </span></td>
          <td><input type="string" id = "input_email" name = "register_em"style="width : 150px;" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}"></td>
        </tr>
        <tr>
          <td><span style="font-size : 120%;">电话号码 : </span></td>
          <td><input type="string" id = "input_pn_1" name = "register_pn" style="width : 150px;" pattern="[0-9]{3}-[0-9]{4}-[0-9]{4}"></td>
        </tr>
      </table>
       <br>
       <br>
       <br>
       <br>
       <br>
      <br>
      <table style ="margin-left: auto; margin-right: auto;">
        <tr>
          <td><button id = "register_to_server" type ="submit">确认后注册!</button></td>
          <td><span>　　</span></td>
          <td><button id = "log_in" onclick="location.href='login.html'">取消</button></td>
        </tr>
      </table>
    </form>

      <p style="text-align : center; font-size : 70%;">©2018 GoGGLE 使用沟谷前必读 意见反馈 韩ICP证032152号  韩公网安备1101423000001号 </p>

    </div>

  </body>
</html>
